{% extends "base.html" %}
{% block title %}Home — Attendance{% endblock %}
{% block header %}
<h1 class="text-2xl font-semibold">Search</h1>
<p class="text-sm text-slate-500">Find a student by name or index number.</p>
{% endblock %}
{% block content %}
<div class="card p-5">
  <div class="flex gap-3">
    <input id="q" class="input flex-1" placeholder="Type name or index (e.g., Ama, UG1234567)" />
    <button id="searchBtn" class="btn-primary">Search</button>
  </div>
  <div class="text-xs text-slate-500 mt-2">Press Enter to search • Add demo data below</div>
</div>

<div class="card p-5 mt-4">
  <h2 class="font-semibold mb-2">Add sample student</h2>
  <!-- Add below the 'Add sample student' card in home.html -->
<div class="card p-5 mt-4">
  <h2 class="font-semibold mb-2">Face Enrollment (via Pi)</h2>
  <p class="text-sm text-slate-500">Trigger facial capture remotely from the Pi.</p>
  <button id="faceBtn" class="btn-primary mt-2">Capture Face</button>
  <div id="faceStatus" class="mt-3 text-sm text-slate-700"></div>
</div>

<!-- Add Paho MQTT JS client just before closing body tag -->


  <div class="grid md:grid-cols-2 gap-2">
    <input id="idx" class="input" placeholder="Index No e.g. UG1234567" />
    <input id="name" class="input" placeholder="Full name e.g. Ama Mensah" />
  </div>
  <button id="addBtn" class="btn-outline mt-2">Add</button>
</div>

<div class="card p-0 mt-4 overflow-hidden">
  <div class="table-wrap">
    <table class="table">
      <thead>
        <tr><th class="w-24">ID</th><th>Index No</th><th>Name</th><th class="w-32">Actions</th></tr>
      </thead>
      <tbody id="resultsBody">
        <tr><td colspan="4" class="py-6 text-center text-slate-500">No results yet.</td></tr>
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
{% block scripts %}
<script src="/static/js/home.js"></script>
<script src="https://unpkg.com/paho-mqtt/mqttws31.min.js"></script>
{% endblock %}
